---
import Base from '../layouts/Base.astro'
let allPosts = await Astro.glob('./posts/*.md')
allPosts = allPosts
	.filter(x => !x.frontmatter.draft)
	.sort(
		(a, b) =>
			new Date(a.frontmatter.date).valueOf() -
			new Date(b.frontmatter.date).valueOf()
	)
---

<Base title="Kunal's Posts">
	<h1 class="text-3xl mb-3">Posts</h1>
	<section class="ml-0.5">
		<ul>
			{
				allPosts.map(p => (
					<li class="mt-3">
						<span class="opacity-80 font-mono text-sm">{p.frontmatter.date} &nbsp;</span>
						<a href={p.url}>
							<span>{p.frontmatter.title}</span>
						</a>
					</li>
				))
			}
		</ul>
	</section>
</Base>
